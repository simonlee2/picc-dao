(this.webpackJsonpmydao=this.webpackJsonpmydao||[]).push([[1],{160:function(e,t,n){},166:function(e,t){},214:function(e,t){},240:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),o=n(138),r=n.n(o),i=(n(160),n(83)),a=n(139),l=n(97),d=n(26),b=n(25),j=new a.a("rinkeby"),u=j.getBundleDropModule("0xAe6BF549c202Ebb4B5204977989dF6Db183C7B92"),h=j.getTokenModule("0xa95B2B02d28AA4E059b969513a8aF93C75C3fAee"),O=function(){var e=Object(l.b)(),t=e.connectWallet,n=e.address,s=(e.error,e.provider);console.log("address: ",n);var o=s?s.getSigner():void 0,r=Object(c.useState)(!1),a=Object(i.a)(r,2),O=a[0],f=a[1],m=Object(c.useState)(!1),g=Object(i.a)(m,2),x=g[0],p=g[1],v=Object(c.useState)({}),A=Object(i.a)(v,2),M=A[0],k=A[1],y=Object(c.useState)([]),C=Object(i.a)(y,2),E=C[0],N=C[1];Object(c.useEffect)((function(){j.setProviderOrSigner(o)}),[o]),Object(c.useEffect)((function(){if(n)return u.balanceOf(n,"0").then((function(e){e.gt(0)?(p(!0),console.log("\ud83c\udf1f this user has a membership NFT!")):(p(!1),console.log("\ud83d\ude2d this user doesn't have a membership NFT."))})).catch((function(e){p(!1),console.error("failed to nft balance",e)}))}),[n]),Object(c.useEffect)((function(){x&&u.getAllClaimerAddresses("0").then((function(e){console.log("\ud83d\ude80 Members addresses",e),N(e)})).catch((function(e){console.error("failed to get member list",e)}))}),[x]),Object(c.useEffect)((function(){x&&h.getAllHolderBalances().then((function(e){console.log("\ud83d\udc5c Amounts",e),k(e)})).catch((function(e){console.error("failed to get token amounts",e)}))}),[x]);var S=Object(c.useMemo)((function(){return E.map((function(e){return{address:e,tokenAmount:d.a.utils.formatUnits(M[e]||0,18)}}))}),[E,M]);return n?x?Object(b.jsxs)("div",{className:"member-page",children:[Object(b.jsx)("h1",{children:"PicDAO Member Page"}),Object(b.jsx)("p",{children:"Congratulations on being a member"}),Object(b.jsx)("div",{children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Member List"}),Object(b.jsxs)("table",{className:"card",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Address"}),Object(b.jsx)("th",{children:"Token Amount"})]})}),Object(b.jsx)("tbody",{children:S.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:(t=e.address,t.substring(0,6)+"..."+t.substring(t.length-4))}),Object(b.jsx)("td",{children:e.tokenAmount})]},e.address);var t}))})]})]})})]}):Object(b.jsxs)("div",{className:"mint-nft",children:[Object(b.jsx)("h1",{children:"Mint your free PicDAO Membership NFT"}),Object(b.jsx)("button",{disabled:O,onClick:function(){return f(!0),void u.claim("0",1).catch((function(e){console.error("failed to claim",e),f(!1)})).finally((function(){f(!1),p(!0),console.log("\ud83c\udf0a Successfully Minted! Check it out on OpenSea: https://testnets.opensea.io/assets/".concat(u.address,"/0"))}))},children:O?"Minting...":"Mint your nft (FREE)"})]}):Object(b.jsxs)("div",{className:"landing",children:[Object(b.jsx)("h1",{children:"Welcome to Picc DAO"}),Object(b.jsx)("button",{onClick:function(){return t("injected")},className:"btn=hero",children:"Connect your wallet"})]})};r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(l.a,{connectors:{injected:{}},supportedChainIds:[4],children:Object(b.jsx)("div",{className:"landing",children:Object(b.jsx)(O,{})})})}),document.getElementById("root"))}},[[240,2,3]]]);
//# sourceMappingURL=main.7c436561.chunk.js.map